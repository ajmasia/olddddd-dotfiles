#!/usr/bin/env bash

# Initialize bspw monitors & desktops
laptop_screen_state=$(bat /proc/acpi/button/lid/LID1/state | awk '{print $2}')
is_external_monitor_connected=$(xrandr --query | grep 'HDMI-1 connected')

echo $is_external_monitor_connected
echo $laptop_screen_state

if [[ $is_external_monitor_connected == "" ]]; then
	bspc monitor eDP-1 -d I II III IV V VI VII VIII
	bspc desktop I -l monocle
elif [[ $laptop_screen_state == "open" ]]; then
	bspc monitor eDP-1 -d I II
	bspc monitor HDMI-1 -f -d III IV V VI VII VIII IX X
	bspc desktop I -l monocle
else
	bspc monitor HDMI-1 -d I II III IV V VI VII VIII
	bspc desktop I -l monocle
fi
